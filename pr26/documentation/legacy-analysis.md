## Выявленные проблемы

### 1. Смешение логики и представления
- HTML код генерируется напрямую через echo в PHP
- Отсутствует разделение ответственности между бизнес-логикой и отображением

### 2. Уязвимости безопасности
- Прямое использование пользовательского ввода в SQL запросах
- Отсутствие защиты от SQL-инъекций
- Нет экранирования выводимых данных (XSS уязвимости)

### 3. Устаревшие подходы
- Использование deprecated функций mysql_*
- Отсутствие обработки ошибок
- Нет использования современных возможностей PHP (PDO, подготовленные выражения)

### 4. Плохая структура кода
- Весь код в одном файле
- Отсутствие функций/классов
- Сложность поддержки и расширения

## Рефакторинг
Были применены следующие улучшения:
- Разделение логики и представления
- Использование PDO и подготовленных выражений
- Валидация и экранирование пользовательского ввода
- Обработка ошибок через try-catch блоки